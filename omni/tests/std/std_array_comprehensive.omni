// Comprehensive test for std.array module
import std

func main():int {
    // Create test arrays
    let numbers:array<int> = [1, 2, 3, 4, 5]
    let strings:array<string> = ["a", "b", "c"]
    
    // Test basic array operations
    let len1:int = std.array.length(numbers)     // Should be 5
    let len2:int = std.array.length(strings)     // Should be 3
    
    // Test array access
    let first_num:int = std.array.get(numbers, 0)    // Should be 1
    let last_num:int = std.array.get(numbers, 4)     // Should be 5
    let first_str:string = std.array.get(strings, 0) // Should be "a"
    
    // Test array modification (these would create new arrays)
    let new_numbers:array<int> = std.array.append(numbers, 6)  // Should be [1,2,3,4,5,6]
    let new_len:int = std.array.length(new_numbers)            // Should be 6
    
    let prepend_numbers:array<int> = std.array.prepend(numbers, 0)  // Should be [0,1,2,3,4,5]
    let prepend_len:int = std.array.length(prepend_numbers)         // Should be 6
    
    // Test array operations
    let contains_3:bool = std.array.contains(numbers, 3)       // Should be true
    let contains_10:bool = std.array.contains(numbers, 10)     // Should be false
    let index_3:int = std.array.index_of(numbers, 3)           // Should be 2
    
    // Test array slicing
    let slice1:array<int> = std.array.slice(numbers, 1, 3)     // Should be [2,3]
    let slice_len:int = std.array.length(slice1)               // Should be 2
    
    // Test array concatenation
    let arr1:array<int> = [1, 2]
    let arr2:array<int> = [3, 4]
    let concat_arr:array<int> = std.array.concat(arr1, arr2)   // Should be [1,2,3,4]
    let concat_len:int = std.array.length(concat_arr)          // Should be 4
    
    // Test array reversal
    let reversed:array<int> = std.array.reverse(arr1)          // Should be [2,1]
    let reversed_len:int = std.array.length(reversed)          // Should be 2
    
    // Return a combination of results to verify all functions work
    // We'll return: len1 + len2 + first_num + last_num + new_len + (contains_3 ? 1 : 0)
    let result:int = len1 + len2 + first_num + last_num + new_len + (contains_3 ? 1 : 0)
    return result  // Should be 5 + 3 + 1 + 5 + 6 + 1 = 21
}
